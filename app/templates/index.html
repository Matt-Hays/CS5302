{% extends 'base.html' %}

<!---->

{% block content %}

<h1>Baseball Database</h1>



<form action="" method="POST" novalidate class="login-form">
    {{ form.hidden_tag() }}
    <p class="input-container">
        {{ form.player_search.label }}
        <!---->
        {{ form.player_search(size=32, class_="form-input") }}
        <!---->
        {% for error in form.player_search.errors %}
        <span style="color: red">{{ error }}</span>
        {% endfor %}
    </p>
    <p class="input-container">{{ form.search_submit(class_="form-submit") }}</p>
</form>

{% if players %}

<h2>{{ nameFirst.capitalize() }} {{ nameLast.capitalize() }}</h2>

{% if not current_user.is_anonymous %}
<form action="{{ url_for('favorites') }}" method="POST" novalidate>
    {{ form.hidden_tag() }}
    <p>
        {{ form.player_id(value=players[0].playerID, hidden=True) }}
    </p>
    <p>
        {{ form.favorite_submit() }}
    </p>
</form>
{% endif %}

<table>
    <tr>
        <th>Analytics ID</th>
        <th>Player ID</th>
        <th>Year ID</th>
        <th>Stint</th>
        <th>Team ID</th>
        <th>League ID</th>
        <th>TW</th>
        <th>TB</th>
        <th>SS</th>
        <th>TOB</th>
        <th>BA</th>
        <th>PA</th>
        <th>RC</th>
        <th>PARC</th>
        <th>PARC27</th>
        <th>PARCA</th>
    </tr>

    {% for player in players %}

    <tr>
        <td>{{ player.analytics_ID }}</td>
        <td>{{ player.playerID }}</td>
        <td>{{ player.yearID }}</td>
        <td>{{ player.stint }}</td>
        <td>{{ player.teamID }}</td>
        <td>{{ player.lgID }}</td>
        <td>{{ player.TB }}</td>
        <td>{{ player.TW }}</td>
        <td>{{ player.SS }}</td>
        <td>{{ player.TOB }}</td>
        <td>{{ player.BA }}</td>
        <td>{{ player.PA }}</td>
        <td>{{ player.RC }}</td>
        <td>{{ player.PARC }}</td>
        <td>{{ player.PARC27 }}</td>
        <td>{{ player.PARCA }}</td>
    </tr>

    {% endfor %}

</table>

{% endif %}

{% endblock %}
